<h1>
	<span data-bind="template: { name: 'historybar-template' }"></span>
	Diskussion
</h1>
<h2 data-bind="text: discussable().general().title"></h2>
<p data-bind="text: discussable().general().text"></p>
<!-- ko if: discussable().discussion().error -->
	<p><span style="color: red">Fehler: </span><span data-bind="text: discussable().discussion().error"></span></p>
<!-- /ko -->
<!-- ko if: !discussable().discussion().error() -->
	<!-- ko if: discussable().discussion().commentsLoading() -->
		Laden...
	<!-- /ko -->
	<!-- ko foreach: discussable().discussion().comments -->
		<div data-bind="template: { name: 'comment-template' }"></div>
	<!-- /ko -->
	
	<div class="cmt">
		<form data-bind="event: { submit: function() { discussable().discussion().submitCommentClick(); return false; } }">
			<p><textarea maxlength="250" placeholder="Dein Beitrag" data-bind="value: discussable().discussion().newCommentText, attr: { disabled: discussable().discussion().newCommentDisabled }"></textarea></p>
			<button data-bind="attr: { disabled: discussable().discussion().newCommentDisabled }" >Beitrag abschicken</button>
		</form>
	</div>
<!-- /ko -->